(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(e,t,a){e.exports={friends_container:"Friends_friends_container__1bW7t",friends_list:"Friends_friends_list__1Uxlm"}},103:function(e,t,a){e.exports={input:"ProfileStatus_input__2fMFg",status_text:"ProfileStatus_status_text__3vCdq"}},12:function(e,t,a){e.exports={nav:"Nav_nav__2Z5Hu",item:"Nav_item__3CUye",link:"Nav_link__dD6Jy",activeLink:"Nav_activeLink__pzyjw"}},140:function(e,t,a){e.exports={preloader:"Preloader_preloader__Em0s3"}},169:function(e,t,a){e.exports=a(296)},174:function(e,t,a){},176:function(e,t,a){},18:function(e,t,a){e.exports={friend_item_container:"FindFriendItem_friend_item_container__1UPih",info_grid:"FindFriendItem_info_grid__3ClYp",info_wrapper:"FindFriendItem_info_wrapper__ySg2_",underline:"FindFriendItem_underline__3Op44",img_wrapper:"FindFriendItem_img_wrapper__2awzD",ava:"FindFriendItem_ava__1og_v",name:"FindFriendItem_name__2XHV8",status:"FindFriendItem_status__1yQBO",link:"FindFriendItem_link__3_5ID",age:"FindFriendItem_age__KzX81",follow_wrapper:"FindFriendItem_follow_wrapper__2DYDU",location:"FindFriendItem_location__VyL1u",follow_btn:"FindFriendItem_follow_btn__28vV8",unfollow_btn:"FindFriendItem_unfollow_btn__3o3TA"}},19:function(e,t,a){e.exports={old_posts:"Post_old_posts__2W-8L",old_post_item:"Post_old_post_item__1hesV",img_wrapper:"Post_img_wrapper__3Oz4-",ava:"Post_ava__3dk-X",textarea:"Post_textarea__ejC4l",buttons_wrapper:"Post_buttons_wrapper__2NPkS",like:"Post_like__X5Mv2",change_button:"Post_change_button__37G4g",remove_button:"Post_remove_button__RlgGV"}},26:function(e,t,a){e.exports={data_wrapper:"ProfileInfo_data_wrapper__3t1VA",ava_wrapper:"ProfileInfo_ava_wrapper__WH0oX",ava:"ProfileInfo_ava__uHH2d",data:"ProfileInfo_data__2jJUG",data_items:"ProfileInfo_data_items__3-HWV",data_header:"ProfileInfo_data_header__2ub4Q"}},296:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(73),o=a.n(s);a(174),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(175);var i=a(20),l=a(21),c=a(23),u=a(22),m=(a(176),a(12)),_=a.n(m),p=a(11);var d=function(){return r.a.createElement("nav",{className:_.a.nav},r.a.createElement("div",{className:_.a.item},r.a.createElement(p.b,{to:"/profile",activeClassName:_.a.activeLink,className:_.a.link},"Profile")),r.a.createElement("div",{className:_.a.item},r.a.createElement(p.b,{to:"/friends",activeClassName:_.a.activeLink,className:_.a.link},"Friends")),r.a.createElement("div",{className:_.a.item},r.a.createElement(p.b,{to:"/messages",activeClassName:_.a.activeLink,className:_.a.link},"Messages")),r.a.createElement("div",{className:_.a.item},r.a.createElement(p.b,{to:"/news",activeClassName:_.a.activeLink,className:_.a.link},"News")),r.a.createElement("div",{className:_.a.item},r.a.createElement(p.b,{to:"/music",activeClassName:_.a.activeLink,className:_.a.link},"Music")),r.a.createElement("div",{className:_.a.item},r.a.createElement(p.b,{to:"/settings",activeClassName:_.a.activeLink,className:_.a.link},"Settings")),r.a.createElement("div",{className:_.a.item},r.a.createElement(p.b,{to:"/findFriends",activeClassName:_.a.activeLink,className:_.a.link},"Find Friends")))};var g=function(){return r.a.createElement("div",null,"News")};var f=function(){return r.a.createElement("div",null,"Music")};var v=function(){return r.a.createElement("div",null,"Settings")},E=a(10),h=a(6),b=a(100),w=a.n(b),N=a(31),P=a.n(N);var O=function(e){return r.a.createElement("div",{className:P.a.friend_item_container},r.a.createElement("div",{className:P.a.img_wrapper},r.a.createElement(p.b,{to:"#",className:P.a.link},r.a.createElement("img",{className:P.a.ava,src:null!==e.users.photos.small?e.users.photos.small:"img/default.png",alt:"Avatar"}))),r.a.createElement("div",{className:P.a.info_wrapper},r.a.createElement("div",{className:P.a.name},r.a.createElement(p.b,{to:"#",className:P.a.link},r.a.createElement("h2",null,e.users.name))),r.a.createElement("p",{className:P.a.to_messages},r.a.createElement(p.b,{to:"#",className:P.a.link},"Write message"))))};var F=function(e){return r.a.createElement("div",{className:w.a.friends_container},r.a.createElement("div",{className:w.a.friends_list},e.users.filter((function(e){return e.followed})).map((function(e){return r.a.createElement(O,{key:e.id,users:e})}))))},k=a(9),j=function(e){return{isAuth:e.auth.isAuth}},I=function(e){var t=function(t){Object(c.a)(n,t);var a=Object(u.a)(n);function n(){return Object(i.a)(this,n),a.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement(e,this.props):r.a.createElement(k.a,{to:"/login"})}}]),n}(r.a.Component);return Object(E.b)(j,{})(t)},y=Object(h.d)(I,Object(E.b)((function(e){return{users:e.findFriendsPage.users,isAuth:e.auth.isAuth}}),{}))(F),C=a(77),x=a.n(C),S=a(39),M=a.n(S);var A=function(e){var t="/messages/"+e.user_id;return r.a.createElement("div",{className:M.a.dialog_item+" "+M.a.active},r.a.createElement("div",{className:M.a.img_container},r.a.createElement(p.b,{to:"#"},r.a.createElement("img",{className:M.a.friend_img,src:"/Chatter/img/friend_images/Bezos.png",alt:""}))),r.a.createElement("div",{className:M.a.name_container},r.a.createElement(p.b,{className:M.a.friend_name,to:"#"},e.user_name),r.a.createElement(p.b,{className:M.a.text,to:t},"Go to Dialog")))},T=a(51),D=a(4),U={dialogsData:[{id:1,name:"Jeff Bezos"},{id:2,name:"Elon Musk"},{id:3,name:"Jordan Peterson"}],messagesData:[{id:1,messageText:"I'm fine. How're you?"},{id:2,messageText:"Hellooooooooooooooooooooooooooooooooooooooooo"},{id:3,messageText:"Byeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee"}],newMessageBody:""},L="SEND-MESSAGE",z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:var a=t.newMessageBody;return Object(D.a)(Object(D.a)({},e),{},{messagesData:[].concat(Object(T.a)(e.messagesData),[{id:4,messageText:a}])});default:return e}},W=a(52),R=a.n(W),H=a(44),B=a.n(H);var J=function(e){var t=e.messagesPage.messagesData.map((function(e){return r.a.createElement("div",{key:e.id,className:B.a.message_container},r.a.createElement("div",{className:B.a.message_body},r.a.createElement("h4",null,"I'm"),r.a.createElement("div",{className:B.a.message_wrapper},r.a.createElement("p",{className:B.a.message_text},e.messageText)),r.a.createElement("div",{className:B.a.time_wrapper},r.a.createElement("p",{className:B.a.time},"20:00"))))}));return r.a.createElement(r.a.Fragment,null,t)},Y=a(33),G=a.n(Y);var V=function(){return r.a.createElement("div",{className:G.a.message_container},r.a.createElement("div",{className:G.a.img_wrapper},r.a.createElement("img",{className:G.a.image,src:"/Chatter/img/avatar.png",alt:"img"})),r.a.createElement("div",{className:G.a.message_body},r.a.createElement("h4",null,"Boris Berezovskiy"),r.a.createElement("div",{className:G.a.message_wrapper},r.a.createElement("p",{className:G.a.message_text},"Hey, how you doing?")),r.a.createElement("div",{className:G.a.time_wrapper},r.a.createElement("p",{className:G.a.time},"20:00"))))},X=a(134),q=a(135),Q=a(80),Z=a(40),K=a.n(Z),$=function(e){var t=e.input,a=e.meta,n=Object(Q.a)(e,["input","meta"]),s=t.value&&a.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement("textarea",Object.assign({className:K.a.post_textarea+" "+(s&&K.a.input_error)},t,n)),s&&r.a.createElement("span",null,a.error))},ee=function(e){var t=e.input,a=e.meta,n=Object(Q.a)(e,["input","meta"]),s=t.value&&a.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement("textarea",Object.assign({className:K.a.messages_textarea+" "+(s&&K.a.messages_input_error)},t,n)))},te=function(e){var t=e.input,a=e.meta,n=Object(Q.a)(e,["input","meta"]),s=a.touched&&a.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",Object.assign({className:K.a.login_input+" "+(s&&K.a.input_error)},t,n)),s&&r.a.createElement("span",{className:K.a.login_error_text},a.error))},ae=function(e){return e?void 0:"Field is required"},ne=function(e){return function(t){return t&&t.length>e?"Field length cannot be more than ".concat(e," symbols"):void 0}},re=ne(10);var se=Object(q.a)({form:"AddMessageForm"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:R.a.input_container},r.a.createElement(X.a,{component:ee,validate:[ae,re],name:"newMessageBody",placeholder:"Write a message..."}),r.a.createElement("button",{className:R.a.send_btn}," Send"))}));var oe=function(e){return r.a.createElement("div",{className:R.a.message_side_container},r.a.createElement("div",{className:R.a.message_item},r.a.createElement(V,null),r.a.createElement(J,{messagesPage:e.messagesPage})),r.a.createElement(se,{onSubmit:function(t){e.sendMessageClick(t.newMessageBody)}}))},ie=Object(E.b)((function(e){return{messagesPage:e.messagesPage}}),(function(e){return{sendMessageClick:function(t){e(function(e){return{type:L,newMessageBody:e}}(t))}}}))(oe);var le=function(e){return r.a.createElement("div",{className:x.a.messages_container},r.a.createElement("div",{className:x.a.dialogs_items},e.dialogElements.map((function(e){return r.a.createElement(A,{key:e.id,user_name:e.name,user_id:e.id})}))),r.a.createElement("div",{className:x.a.messages_items},r.a.createElement(ie,null)))},ce=Object(h.d)(I,Object(E.b)((function(e){return{dialogElements:e.messagesPage.dialogsData}}),{}))(le),ue=a(29),me=a.n(ue),_e=a(53),pe=a(139),de=a.n(pe).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"3de0712e-e19a-4637-bf5e-355c7a8ad46c"}}),ge=function(e,t){return de.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},fe=function(e){return de.post("follow/".concat(e))},ve=function(e){return de.delete("follow/".concat(e))},Ee=function(e){return de.get("profile/".concat(e))},he=function(e){return de.get("profile/status/".concat(e))},be=function(e){return de.put("profile/status/",{status:e})},we=function(){return de.get("auth/me")},Ne=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return de.post("auth/login",{email:e,password:t,rememberMe:a})},Pe=function(){return de.delete("auth/login")},Oe={users:[],newPostText:"",pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[],isFollowingInProgress:!1},Fe="FOLLOW",ke="UNFOLLOW",je="SET_USERS",Ie="SET_CURRENT_PAGE",ye="SET_TOTAL_USERS_COUNT",Ce="SET_PRELOADER",xe="SET_IS_FOLLOWING_IN_PROGRESS",Se=function(e){return{type:Fe,userId:e}},Me=function(e){return{type:ke,userId:e}},Ae=function(e){return{type:Ie,currentPage:e}},Te=function(e){return{type:Ce,isFetching:e}},De=function(e,t){return{type:xe,isFollowingInProgress:e,userId:t}},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:return Object(D.a)(Object(D.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(D.a)(Object(D.a)({},e),{},{followed:!0}):e}))});case ke:return Object(D.a)(Object(D.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(D.a)(Object(D.a)({},e),{},{followed:!1}):e}))});case je:return Object(D.a)(Object(D.a)({},e),{},{users:t.users});case Ie:return Object(D.a)(Object(D.a)({},e),{},{currentPage:t.currentPage});case ye:return Object(D.a)(Object(D.a)({},e),{},{totalUsersCount:t.totalUsersCount});case Ce:return Object(D.a)(Object(D.a)({},e),{},{isFetching:t.isFetching});case xe:return Object(D.a)(Object(D.a)({},e),{},{followingInProgress:t.isFollowingInProgress?[].concat(Object(T.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},Le=a(64),ze=a.n(Le),We=a(140),Re=a.n(We);var He=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:Re.a.preloader,src:"/Chatter/img/spinner.svg"}))},Be=a(18),Je=a.n(Be);var Ye=function(e){return r.a.createElement("div",{className:Je.a.friend_item_container},r.a.createElement("div",{className:Je.a.img_wrapper},r.a.createElement(p.b,{to:"/profile/"+e.users.id,className:Je.a.link},r.a.createElement("img",{className:Je.a.ava,src:e.users.photos.small?e.users.photos.small:"/Chatter/img/default.png",alt:"Avatar"}))),r.a.createElement("div",{className:Je.a.info_grid},r.a.createElement("div",{className:Je.a.info_wrapper},r.a.createElement("div",{className:Je.a.name},r.a.createElement(p.b,{to:"/profile/"+e.users.id,className:Je.a.link},r.a.createElement("h2",null,"".concat(e.users.name)))),r.a.createElement("p",{className:Je.a.status},e.users.status?e.users.status:"What's cooking, good looking?")),r.a.createElement("div",{className:Je.a.follow_wrapper},e.users.followed?r.a.createElement("button",{disabled:e.followingInProgress.some((function(t){return t===e.users.id})),onClick:function(){e.unFollowThunkCreator(e.users.id)},className:Je.a.unfollow_btn},"Unfollow"):r.a.createElement("button",{disabled:e.followingInProgress.some((function(t){return t===e.users.id})),onClick:function(){e.followThunkCreator(e.users.id)},className:Je.a.follow_btn},"Follow"))))},Ge=a(143),Ve=a(45),Xe=a.n(Ve);var qe=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),a=[],s=1;s<=t;s++)a.push(s);var o=Math.ceil(t/e.portionSize),i=Object(n.useState)(1),l=Object(Ge.a)(i,2),c=l[0],u=l[1],m=(c-1)*e.portionSize+1,_=c*e.portionSize;return r.a.createElement(r.a.Fragment,null,c>1&&r.a.createElement("button",{className:Xe.a.back_btn,onClick:function(){return u(c-1)}},r.a.createElement("i",{className:"fa fa-angle-double-left","aria-hidden":"true"}),"\xa0 Back"),r.a.createElement("span",{className:Xe.a.pages_wrapper},a.filter((function(e){return e>=m&&e<=_})).map((function(t){return r.a.createElement("span",{className:e.currentPage===t?"".concat(Xe.a.page," ").concat(Xe.a.current_page_is_active):Xe.a.page,key:t,onClick:function(){return e.onPageChanged(t)}},t)}))),o>c&&r.a.createElement("button",{className:Xe.a.next_btn,onClick:function(){return u(c+1)}}," Next \xa0",r.a.createElement("i",{className:"fa fa-angle-double-right","aria-hidden":"true"})))};var Qe=function(e){return r.a.createElement("div",{className:ze.a.friends_container},r.a.createElement("div",{className:ze.a.friends_list},e.isFetching?r.a.createElement("div",{className:ze.a.preloader_wrapper},r.a.createElement(He,null)):null,e.users.map((function(t){return r.a.createElement(Ye,{key:t.id,users:t,follow:e.follow,unfollow:e.unfollow,setFollowingInProgress:e.setFollowingInProgress,isFollowingInProgress:e.isFollowingInProgress,followingInProgress:e.followingInProgress,followThunkCreator:e.followThunkCreator,unFollowThunkCreator:e.unFollowThunkCreator})})),r.a.createElement("span",{className:ze.a.footer_wrapper},r.a.createElement(qe,{currentPage:e.currentPage,onPageChanged:e.onPageChanged,pageSize:e.pageSize,totalUsersCount:e.totalUsersCount,portionSize:10}))))},Ze=a(141),Ke=Object(Ze.a)((function(e){return e.findFriendsPage.users}),(function(e){return e})),$e=function(e){return e.findFriendsPage.pageSize},et=function(e){return e.findFriendsPage.totalUsersCount},tt=function(e){return e.findFriendsPage.currentPage},at=function(e){return e.findFriendsPage.isFetching},nt=function(e){return e.findFriendsPage.isFollowingInProgress},rt=function(e){return e.findFriendsPage.followingInProgress},st=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.setCurrentPage(t),e.props.getUsersThunkCreator(t,e.props.pageSize)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsersThunkCreator(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement(Qe,{users:this.props.users,pageSize:this.props.pageSize,totalUsersCount:this.props.totalUsersCount,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,isFetching:this.props.isFetching,follow:this.props.follow,unfollow:this.props.unfollow,setFollowingInProgress:this.props.setFollowingInProgress,isFollowingInProgress:this.props.isFollowingInProgress,followingInProgress:this.props.followingInProgress,followThunkCreator:this.props.followThunkCreator,unFollowThunkCreator:this.props.unFollowThunkCreator})}}]),a}(r.a.Component),ot=Object(h.d)(I,Object(E.b)((function(e){return{users:Ke(e),pageSize:$e(e),totalUsersCount:et(e),currentPage:tt(e),isFetching:at(e),isFollowingInProgress:nt(e),followingInProgress:rt(e)}}),(function(e){return{follow:function(t){e(Se(t))},unfollow:function(t){e(Me(t))},setCurrentPage:function(t){e(Ae(t))},setFollowingInProgress:function(t,a){e(De(t,a))},getUsersThunkCreator:function(t,a){e(function(e,t){return function(){var a=Object(_e.a)(me.a.mark((function a(n,r){var s;return me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(Te(!0)),n(Ae(e)),a.next=4,ge(e,t);case 4:s=a.sent,n(Te(!1)),n((o=s.items,{type:je,users:o})),n((r=s.totalCount,{type:ye,totalUsersCount:r}));case 8:case"end":return a.stop()}var r,o}),a)})));return function(e,t){return a.apply(this,arguments)}}()}(t,a))},followThunkCreator:function(t){e(function(e){return function(){var t=Object(_e.a)(me.a.mark((function t(a,n){return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(De(!0,e)),t.next=3,fe(e);case 3:0==t.sent.data.resultCode&&a(Se(e)),a(De(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(t))},unFollowThunkCreator:function(t){e(function(e){return function(t,a){t(De(!0,e)),ve(e).then((function(a){0==a.data.resultCode&&t(Me(e)),t(De(!1,e))}))}}(t))}}})))(st),it=a(79),lt=a.n(it),ct={postData:[{id:1,message:"Hey, how you doing?",like:5},{id:2,message:"What's cooking, good looking?",like:8}],newPostText:"",profile:null,status:""},ut="ADD-POST",mt="SET_USER_PROFILE",_t="SET_STATUS",pt=function(e){return function(t,a){Ee(e).then((function(e){var a;t((a=e.data,{type:mt,profile:a}))}))}},dt=function(e){return{type:_t,status:e}},gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ut:var a={id:3,message:t.newPostText,like:9};return Object(D.a)(Object(D.a)({},e),{},{postData:[a].concat(Object(T.a)(e.postData)),newPostText:""});case mt:return Object(D.a)(Object(D.a)({},e),{},{profile:t.profile});case _t:return Object(D.a)(Object(D.a)({},e),{},{status:t.status});default:return e}},ft=a(54),vt=a.n(ft),Et=a(19),ht=a.n(Et);var bt=function(e){return r.a.createElement("div",{className:ht.a.old_posts},r.a.createElement("div",{className:ht.a.img_wrapper},r.a.createElement("img",{className:ht.a.ava,src:"/img/default.png",alt:"Avatar"})),r.a.createElement("div",{className:ht.a.old_post_item},r.a.createElement("div",{className:ht.a.old_post_form},r.a.createElement("div",{className:ht.a.user_name},r.a.createElement("h4",null,"Alexey Gorbachevskiy")),r.a.createElement("textarea",{value:e.message,readOnly:!0,className:ht.a.textarea,rows:4,cols:60,id:"new_post_text_area",name:"new_post_text_area"}),r.a.createElement("div",{className:ht.a.buttons_wrapper},r.a.createElement("div",{className:ht.a.like},r.a.createElement("p",null,"Like: ",e.like)),r.a.createElement("div",{className:ht.a.extra_wrapper},r.a.createElement("button",{className:ht.a.change_button,value:"Edit"},r.a.createElement("i",{className:"fa fa-edit"})," Edit"),r.a.createElement("button",{className:ht.a.remove_button,value:"Remove"},r.a.createElement("i",{className:"fa fa-trash"})," Remove"))))))},wt=ne(10);var Nt=Object(q.a)({form:"AddNewPostForm"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:vt.a.new_post_form},r.a.createElement("h2",null,"New Post"),r.a.createElement(X.a,{component:$,name:"newPostText",placeholder:"What's new...",rows:4,cols:60,validate:[ae,wt]}),r.a.createElement("button",{className:vt.a.new_post_button,value:"Post"},r.a.createElement("i",{className:"fa fa-paper-plane"})," Post"))})),Pt=r.a.memo((function(e){var t=e.postData.map((function(e){return r.a.createElement(bt,{key:e.id,message:e.message,like:e.like})}));return r.a.createElement("div",{className:vt.a.posts},r.a.createElement("div",{className:vt.a.new_post},r.a.createElement(Nt,{onSubmit:function(t){e.addPost(t.newPostText)}})),t)})),Ot=Object(E.b)((function(e){return{postData:e.profilePage.postData,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){return e(function(e){return{type:ut,newPostText:e}}(t))}}}))(Pt),Ft=a(26),kt=a.n(Ft),jt=a(103),It=a.n(jt),yt=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={editMode:!1,status:e.props.status},e.activateActiveMode=function(){e.setState(Object(D.a)(Object(D.a)({},e.state),{},{editMode:!0}))},e.deactivateActiveMode=function(){e.setState(Object(D.a)(Object(D.a)({},e.state),{},{editMode:!1})),e.props.updateStatus(e.state.status)},e.onStatusChange=function(t){e.setState(Object(D.a)(Object(D.a)({},e.state),{},{status:t.currentTarget.value}))},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,"Status:",this.state.editMode?r.a.createElement("input",{onChange:this.onStatusChange,autoFocus:!0,onBlur:this.deactivateActiveMode,className:It.a.input,value:this.state.status,type:"text"}):r.a.createElement("p",{className:It.a.status_text,onDoubleClick:this.activateActiveMode},this.props.status?this.props.status:" No status"))}}]),a}(r.a.Component);var Ct=function(e){var t,a,n,s,o,i,l,c,u,m;return r.a.createElement("div",{className:kt.a.data_wrapper},r.a.createElement("div",{className:kt.a.ava_wrapper},r.a.createElement("img",{className:kt.a.ava,src:(null===(t=e.profile)||void 0===t?void 0:t.photos.large)?null===(a=e.profile)||void 0===a?void 0:a.photos.large:"/Chatter/img/default.png",alt:"Avatar"})),r.a.createElement("div",{className:kt.a.data},r.a.createElement("div",{className:kt.a.data_header},r.a.createElement("h2",null,null===(n=e.profile)||void 0===n?void 0:n.fullName.replace(null===(s=e.profile)||void 0===s?void 0:s.fullName[0],null===(o=e.profile)||void 0===o?void 0:o.fullName[0].toUpperCase()))),r.a.createElement("div",{className:kt.a.data_items},r.a.createElement("div",{className:kt.a.status},r.a.createElement(yt,{status:e.status,updateStatus:e.updateStatus})),r.a.createElement("div",{className:kt.a.job_status},r.a.createElement("p",null,"Job search status: ",(null===(i=e.profile)||void 0===i?void 0:i.lookingForAJob)?null===(l=e.profile)||void 0===l?void 0:l.lookingForAJob:"Looking for a job.")),r.a.createElement("div",{className:kt.a.job_description},r.a.createElement("p",null,"Job description: ",(null===(c=e.profile)||void 0===c?void 0:c.lookingForAJobDescription)?e.profile.lookingForAJobDescription:"Looking for a frontend developer position.")),r.a.createElement("div",{className:kt.a.contacts},r.a.createElement("p",null,"My contacts: ",(null===(u=e.profile)||void 0===u?void 0:u.contacts.twitter)?null===(m=e.profile)||void 0===m?void 0:m.contacts.twitter:"Oops.")))))};var xt=function(e){return e.profile?e.profile&&e.match.params.userId&&parseInt(e.match.params.userId)!==e.profile.userId?r.a.createElement("div",{className:lt.a.preloader_wrapper},r.a.createElement(He,null)):r.a.createElement("div",{className:lt.a.content},r.a.createElement(Ct,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),r.a.createElement(Ot,null)):r.a.createElement("div",{className:lt.a.preloader_wrapper},r.a.createElement(He,null))},St=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||this.props.authorizedUserId&&(e=this.props.authorizedUserId.toString()),this.props.getProfileInfo(e),this.props.getStatus(parseInt(e))}},{key:"componentDidUpdate",value:function(e,t,a){e.status!==this.props.status&&this.setState(Object(D.a)(Object(D.a)({},this.state),{},{status:this.props.status}))}},{key:"render",value:function(){return r.a.createElement(xt,this.props)}}]),a}(r.a.Component),Mt=Object(h.d)(I,k.f,Object(E.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.data.id,isAuth:e.auth.isAuth}}),(function(e){return{getProfileInfo:function(t){return e(pt(t))},getStatus:function(t){return e(function(e){return function(t,a){he(e).then((function(e){t(dt(e.data))}))}}(t))},updateStatus:function(t){return e(function(e){return function(t,a){be(e).then((function(a){0===a.data.resultCode&&t(dt(e))}))}}(t))}}})))(St),At=a(32),Tt=a.n(At);var Dt=function(e){return r.a.createElement("header",{className:Tt.a.header},r.a.createElement("div",{className:Tt.a.wrap},r.a.createElement("div",{className:"".concat(Tt.a.logo)},r.a.createElement(p.b,{className:Tt.a.logo_link,to:"/profile"},r.a.createElement("img",{className:Tt.a.logo_img,src:"/Chatter/img/logo.png"}))),r.a.createElement("div",{className:Tt.a.login},e.isAuth?r.a.createElement("div",{className:Tt.a.auth_wrapper},r.a.createElement("p",null,e.userData.login),r.a.createElement("button",{className:Tt.a.logout_btn,onClick:e.logout},"Log Out")):r.a.createElement(p.b,{className:Tt.a.login_link,to:"/login"},"Log In"))))},Ut=a(36),Lt={data:{email:null,id:null,login:null},isAuth:!1},zt="SET_USER_DATA",Wt=function(e,t){return{type:zt,userData:e,isAuth:t}},Rt=function(){return function(){var e=Object(_e.a)(me.a.mark((function e(t,a){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we();case 2:0===(n=e.sent).data.resultCode&&t(Wt(n.data.data,!0));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},Ht=function(){return function(e,t){Pe().then((function(t){0===t.data.resultCode&&e(Wt(null,!1))}))}},Bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zt:return Object(D.a)(Object(D.a)({},e),{},{data:Object(D.a)({},t.userData),isAuth:t.isAuth});default:return e}},Jt=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(Dt,this.props)}}]),a}(r.a.Component),Yt=Object(E.b)((function(e){return{userData:e.auth.data,isAuth:e.auth.isAuth}}),(function(e){return{logout:function(){e(Ht())}}}))(Jt),Gt=a(30),Vt=a.n(Gt),Xt=ne(40);var qt=function(e){return r.a.createElement("form",{className:Vt.a.form,onSubmit:e.handleSubmit},r.a.createElement("h1",{className:Vt.a.form_header},"Log In"),r.a.createElement("div",{className:Vt.a.fields},r.a.createElement("div",null,r.a.createElement(X.a,{name:"email",placeholder:"Email",component:te,type:"text",validate:[ae,Xt]})),r.a.createElement("div",null,r.a.createElement(X.a,{name:"password",placeholder:"Password",component:te,type:"password",validate:[ae,Xt]})),r.a.createElement("div",{className:Vt.a.remember},r.a.createElement(X.a,{name:"rememberMe",component:"input",type:"checkbox"}),r.a.createElement(r.a.Fragment,null," Remember")),e.error?r.a.createElement("div",{className:Vt.a.error},e.error):""),r.a.createElement("div",{className:Vt.a.login_btn_wrapper},r.a.createElement("button",{className:Vt.a.login_btn},"Log In")))},Qt=Object(q.a)({form:"login"})(qt);var Zt=Object(E.b)((function(e){return{isAuth:e.auth.isAuth}}),(function(e){return{login:function(t,a,n){e(function(e,t,a){return function(){var n=Object(_e.a)(me.a.mark((function n(r,s){var o,i,l;return me.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ne(e,t,a);case 2:0===(o=n.sent).data.resultCode?r(Rt()):(i=o.data.messages.length>0?o.data.messages[0]:"Some error",l=Object(Ut.a)("login",{_error:i}),r(l));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(t,a,n))},logout:function(){e(Ht())}}}))((function(e){return e.isAuth?r.a.createElement(k.a,{to:"/profile"}):r.a.createElement("div",{className:Vt.a.login_wrapper},r.a.createElement(Qt,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}}))})),Kt=a(142),$t=a(136),ea={initialized:!1},ta="INITIALIZED_SUCCESS",aa=function(){return function(e,t){var a=e(Rt());Promise.all([a]).then((function(){e({type:ta})}))}},na=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ta:return Object(D.a)(Object(D.a)({},e),{},{initialized:!0});default:return e}},ra=Object(h.c)({profilePage:gt,messagesPage:z,findFriendsPage:Ue,auth:Bt,form:$t.a,app:na}),sa=Object(h.e)(ra,Object(h.a)(Kt.a)),oa=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:"container"},r.a.createElement(Yt,null),r.a.createElement(d,null),r.a.createElement(k.b,{exact:!0,path:"/",render:function(){return r.a.createElement(k.a,{to:"/profile"})}}),r.a.createElement(k.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(Mt,null)}}),r.a.createElement(k.b,{path:"/friends",render:function(){return r.a.createElement(y,null)}}),r.a.createElement(k.b,{path:"/messages",render:function(){return r.a.createElement(ce,null)}}),r.a.createElement(k.b,{path:"/news",render:function(){return r.a.createElement(g,null)}}),r.a.createElement(k.b,{path:"/music",render:function(){return r.a.createElement(f,null)}}),r.a.createElement(k.b,{path:"/settings",render:function(){return r.a.createElement(v,null)}}),r.a.createElement(k.b,{path:"/findFriends",render:function(){return r.a.createElement(ot,null)}}),r.a.createElement(k.b,{path:"/login",render:function(){return r.a.createElement(Zt,null)}})):r.a.createElement(He,null)}}]),a}(r.a.Component),ia=Object(h.d)(k.f,Object(E.b)((function(e){return{initialized:e.app.initialized}}),(function(e){return{initializeApp:function(){e(aa())}}})))(oa),la=function(){return r.a.createElement(p.a,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement(E.a,{store:sa},r.a.createElement(ia,null))))};o.a.render(r.a.createElement(la,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},30:function(e,t,a){e.exports={login_wrapper:"Login_login_wrapper__AkEG8",form_header:"Login_form_header__e1k3O",form:"Login_form__3_EUy",input:"Login_input__T1o1n",remember:"Login_remember__IJhQy",login_btn_wrapper:"Login_login_btn_wrapper__DW-sO",login_btn:"Login_login_btn__3cyaU",error:"Login_error__ertmk"}},31:function(e,t,a){e.exports={friend_item_container:"FriendItem_friend_item_container__2fEW9",info_wrapper:"FriendItem_info_wrapper__3tAz2",underline:"FriendItem_underline__3GQZn",img_wrapper:"FriendItem_img_wrapper__B8Zt9",ava:"FriendItem_ava__3bQUW",name:"FriendItem_name__3tURL",to_messages:"FriendItem_to_messages__1gwoZ",link:"FriendItem_link__3LH9W"}},32:function(e,t,a){e.exports={header:"Header_header__2Rxve",wrap:"Header_wrap__3IoX8",logo:"Header_logo__1Cz1i",logo_img:"Header_logo_img__1UD25",login:"Header_login__1OUfw",login_link:"Header_login_link__2wvha",item:"Header_item__PjlFt",auth_wrapper:"Header_auth_wrapper__2PXAU",logout_btn:"Header_logout_btn__3n_1w"}},33:function(e,t,a){e.exports={message_container:"NotYourMessage_message_container__14TU5",img_wrapper:"NotYourMessage_img_wrapper__wbbWr",image:"NotYourMessage_image__rVcde",message_body:"NotYourMessage_message_body__3tFuO",message_text:"NotYourMessage_message_text__3DzxR",time_wrapper:"NotYourMessage_time_wrapper__2DDvx",time:"NotYourMessage_time__2nb1h"}},39:function(e,t,a){e.exports={dialog_item:"DialogItem_dialog_item__2j8vs",active:"DialogItem_active__1XA1c",img_container:"DialogItem_img_container__1IaM5",friend_img:"DialogItem_friend_img__1n4LT",name_container:"DialogItem_name_container__2AmnJ",friend_name:"DialogItem_friend_name__2MpO2",text:"DialogItem_text__21Pga"}},40:function(e,t,a){e.exports={input_error:"FormsControls_input_error__1CLQk",post_textarea:"FormsControls_post_textarea__1qDPZ",messages_textarea:"FormsControls_messages_textarea__3ffV2",messages_input_error:"FormsControls_messages_input_error__2hr8s",login_error_text:"FormsControls_login_error_text__2ObwE",login_input:"FormsControls_login_input__2zxWf"}},44:function(e,t,a){e.exports={message_container:"YourMessage_message_container__xgsfS",message_body:"YourMessage_message_body__1fs6U",message_text:"YourMessage_message_text__22rSq",time_wrapper:"YourMessage_time_wrapper__1ClUn",time:"YourMessage_time__1rJSV"}},45:function(e,t,a){e.exports={pages_wrapper:"Paginator_pages_wrapper__1Ibsn",page:"Paginator_page__33183",current_page_is_active:"Paginator_current_page_is_active__1oVA4",next_btn:"Paginator_next_btn__2eb8q",back_btn:"Paginator_back_btn__37qKq",preloader_wrapper:"Paginator_preloader_wrapper__2Lq-8"}},52:function(e,t,a){e.exports={message_side_container:"MessageItem_message_side_container__csgNy",message_item:"MessageItem_message_item__C6XQI",input_container:"MessageItem_input_container__4oWtG",send_btn:"MessageItem_send_btn__1XX39"}},54:function(e,t,a){e.exports={posts:"MyPosts_posts__2n4sO",new_post:"MyPosts_new_post__2cISy",new_post_form:"MyPosts_new_post_form__xERzI",new_post_button:"MyPosts_new_post_button__1dG8J"}},64:function(e,t,a){e.exports={friends_container:"FindFriends_friends_container__1f94e",friends_list:"FindFriends_friends_list__1Tqz0",footer_wrapper:"FindFriends_footer_wrapper__WRKSS"}},77:function(e,t,a){e.exports={messages_container:"Messages_messages_container__1XqQz",dialogs_items:"Messages_dialogs_items__2VYzu",messages_items:"Messages_messages_items__i1oGB"}},79:function(e,t,a){e.exports={content:"Profile_content__pIfrp",preloader_wrapper:"Profile_preloader_wrapper__2oUDZ"}}},[[169,1,2]]]);
//# sourceMappingURL=main.cfdfdedd.chunk.js.map